\documentclass[a4paper,11pt,twoside, openany]{book}
\usepackage[utf8]{inputenc}
\usepackage{graphicx}
\usepackage{mathrsfs}
\usepackage{amsbsy}
\usepackage{fontenc}
\usepackage{amsfonts}
\usepackage{amsmath} 	
\usepackage{mdframed}
\usepackage{amsthm}  	
\usepackage{amssymb}
\usepackage{amscd}
\usepackage{faktor}
\usepackage{mathtools}
\usepackage{epigraph}
\usepackage{tikz}
\usetikzlibrary{matrix,arrows,decorations.pathmorphing}
\usepackage{tikz-cd}
\usepackage[titletoc]{appendix}
\usepackage{centernot}
\usepackage{bbding}
\usepackage{indentfirst}
\usepackage{hyperref}
\usepackage{xspace}
\hypersetup{colorlinks=false, pdfborder={0 0 0}}                                 
\usepackage{enumitem}
\setdescription{font=\normalfont}
%\usepackage[style=alphabetic, backend=bibtex]{biblatex}
\usepackage[normalem]{ulem}
\usepackage{contour}
\makeatletter        
\newcommand*{\doublerightarrow}[2]{\mathrel{
		\settowidth{\@tempdima}{$\scriptstyle#1$}
		\settowidth{\@tempdimb}{$\scriptstyle#2$}
		\ifdim\@tempdimb>\@tempdima \@tempdima=\@tempdimb\fi
		\mathop{\vcenter{
				\offinterlineskip\ialign{\hbox to\dimexpr\@tempdima+1em{##}\cr
					\rightarrowfill\cr\noalign{\kern.5ex}
					\rightarrowfill\cr}}}\limits^{\!#1}_{\!#2}}}
\newcommand*{\triplerightarrow}[1]{\mathrel{
		\settowidth{\@tempdima}{$\scriptstyle#1$}
		\mathop{\vcenter{
				\offinterlineskip\ialign{\hbox to\dimexpr\@tempdima+1em{##}\cr
					\rightarrowfill\cr\noalign{\kern.5ex}
					\rightarrowfill\cr\noalign{\kern.5ex}
					\rightarrowfill\cr}}}\limits^{\!#1}}}
\makeatother

\def\cleardoublepage{\clearpage\if@twoside \ifodd\c@page\else  		
	\hbox{}                                                        					
	\vspace*{\fill}                                                					
	\begin{center}                                                 					
		\*                                                             					
	\end{center}                                                   					
	\vspace{\fill}                                                 					 
	\thispagestyle{empty}                                          				
	\newpage                                                       					
	\if@twocolumn\hbox{}\newpage\fi\fi\fi}                        

\makeatletter
\newcommand{\colim@}[2]{%
	\vtop{\m@th\ialign{##\cr
			\hfil$#1\operator@font colim$\hfil\cr
			\noalign{\nointerlineskip\kern-\ex@}\cr}}%
}
\newcommand{\colim}{%
	\mathop{\mathpalette\colim@{\rightarrowfill@\scriptscriptstyle}}\nmlimits@
}


\newcommand{\catname}[1]{{\normalfont\textbf{#1}}}

\DeclareMathOperator{\Aff}{\mathbf{Aff}}
\DeclareMathOperator{\Alg}{\mathbf{Alg}}
\DeclareMathOperator{\Coh}{\mathbf{Coh}}
\DeclareMathOperator{\QCoh}{\mathbf{QCoh}}
\DeclareMathOperator{\VB}{\mathbf{VB}}

\newcommand{\Set}{\catname{Set}}
\newcommand{\Top}{\catname{Top}}
\newcommand{\CHTop}{\catname{CHTop}}
\newcommand{\Ab}{\catname{Ab}}
\newcommand{\RMod}{\catname{Mod}_R}
\newcommand{\sSet}{\catname{sSet}}
\newcommand{\Rel}{\catname{Rel}}
\newcommand{\Cat}{\catname{Cat}}
\newcommand{\CAT}{\catname{CAT}}	
\newcommand{\qCat}{\catname{qCat}}	
\makeatother                                                   					

\makeatletter
\renewcommand\part{%
	\if@openright
	\cleardoublepage
	\else
	\clearpage
	\fi
	\thispagestyle{empty}%  				 
	\if@twocolumn
	\onecolumn
	\@tempswatrue
	\else
	\@tempswafalse
	\fi
	\null\vfil
	\secdef\@part\@spart}
\makeatother
\usepackage{bbm}
\usepackage{fancyhdr}                                   	

\renewcommand{\sectionmark}[1]{\markright{#1}}         	         
\pagestyle{fancy}                                       				
\fancyhf{}                                              				
\fancyhead[LE,RO]{\thepage}                           		           
\fancyhead[LO]{\scshape\nouppercase{\rightmark}}       	          
\fancyhead[RE]{\scshape\nouppercase{\leftmark}}      	           
\renewcommand{\headrulewidth}{0pt}                   \usepackage{amsmath,calligra,mathrsfs}
\DeclareMathOperator{\innerhom}{\mathscr{H}\text{\kern -3pt {\calligra\Large om}}\,}
\DeclareMathOperator{\Hom}{\text{Hom}}
\DeclareMathOperator{\End}{\text{End}}
\DeclareMathOperator{\op}{\text{op}}
\DeclareMathOperator{\co}{\text{co}}
\DeclareMathOperator{\coop}{\text{coop}}
\DeclareMathOperator{\Fib}{\text{Fib}}
\DeclareMathOperator{\Cof}{\text{Cof}}
\DeclareMathOperator{\V}{\mathcal{V}}
\DeclareMathOperator{\A}{\mathbf{A}}
\DeclareMathOperator{\C}{\mathbf{C}}
\DeclareMathOperator{\D}{\mathbf{D}}
\DeclareMathOperator{\N}{\mathbb{N}}
\DeclareMathOperator{\Z}{\mathbb{Z}}
\DeclareMathOperator{\id}{id}
\DeclareMathOperator{\dom}{dom}
\DeclareMathOperator{\cod}{cod}
\DeclareMathOperator{\Ob}{Ob}
\DeclareMathOperator{\Ar}{Ar}

\tikzset{shorten <>/.style={shorten >=#1,shorten <=#1}}
\newcommand{\pullbackcorner}[1][ul]{\save*!/#1+1.5pc/#1(1,-1)@^{|-}\restore}
\newcommand{\pushoutcorner}[1][ul]{\save*!/#1-1.5pc/#1:(-1,1)@^{|-}\restore}
\usepackage{tikz}
\usetikzlibrary{shapes}
\usepackage{xcolor}
\usepackage{url}
\usepackage{attachfile} 							
\makeatletter                        						
\g@addto@macro{\UrlBreaks}{\UrlOrds} 				
\makeatother                        						 
\usepackage{xcolor}
\usepackage{url}
\usepackage{attachfile} 							


\makeatletter                        						

\g@addto@macro{\UrlBreaks}{\UrlOrds} 				

\makeatother                        						 

\newsavebox\MBox

\newcommand\Cline[2][red]{{\sbox\MBox{$#2$}%
		
		\rlap{\usebox\MBox}\color{#1}\rule[-1.2\dp\MBox]{\wd\MBox}{1pt}}}

\theoremstyle{definition}

\newtheorem{thm}{Theorem}[section] % reset theorem numbering for each chapter

\newcommand{\chaptercontent}{
	\section{Basics}
	\begin{defn}Here is a new definition.\end{defn}
	\begin{thm}Here is a new theorem.\end{thm}
	\begin{exmp}Here is a good example.\end{exmp}
	\subsection{Some tips}
	\begin{defn}Here is a new definition.\end{defn}
	\section{Advanced stuff}
	\begin{defn}Here is a new definition.\end{defn}
	\subsection{Warnings}
	\begin{defn}Here is a new definition.\end{defn}
}
\theoremstyle{definition}
\newtheorem{defn}[thm]{Definition} % definition numbers are dependent on theor$
\newtheorem{exmp}[thm]{Example} % same for example numbers
\newtheorem{prop}[thm]{Proposition}
\newtheorem{lemma}[thm]{Lemma}
\newtheorem{cor}[thm]{Corollary}
\theoremstyle{remark}
\newtheorem{rmk}[thm]{Remark}
\newtheorem{es}[thm]{Example}

\newmdtheoremenv{theo}[thm]{Theorem}

\newmdtheoremenv{teo}{Theorem}

\setlength{\headheight}{15pt} 					  
\usepackage[all]{xy}
\usepackage{extarrows}


\begin{document}
	
	\author{by \\
		Nicola Di Vittorio \\ Matteo Durante}
	\title{\huge Monads and their applications \\
		\vspace*{5mm}
		\large Dr.\ Daniel Schäppi's course lecture notes} 
	\date{}
	
	\frontmatter
	\maketitle
	\tableofcontents
	
	\chapter{Introduction}
	
	\mainmatter
	
	\chapter{Categorical preliminaries}
	\begin{defn}[Categories]
		A category $\C$ consists of:
		\begin{enumerate}
			\item a collection of objects $\Ob(\C)$;
			\item a collection of arrows $\Ar(\C)$;
			\item two maps $\dom,\cod\colon\Ar(\C)\rightarrow\Ob(\C)$;
			\item a map $\id_{-}\colon\Ob(\C)\rightarrow\Ar(\C)$ with $\dom(\id_{c})=c=\cod(\id_{c})$;
			\item for every $f,g\in\Ar(\C)$ such that $\cod(f)=\dom(g)$ a unique composite morphism $gf$ such that $\cod(gf)=\cod(g)$, $\dom(gf)=f$.
		\end{enumerate}
	This data has to satisfy the following axioms
		\begin{enumerate}
			\item given $f\in\Ar(\C)$, $c=\dom(f)$ and $c'=\cod(f)$, $\id_{c'}f=f=\id_{c}$, that is the composition is unital;
			\item given a composable triple $f,g,h\in\Ar(\C)$, $h(gf)=(hg)f$, that is the composition is associative.
		\end{enumerate}
		An arrow $f$ such that $c=\dom(f)$ and $c'=\cod(f)$ is denoted $f\colon c\rightarrow c'$.
	\end{defn}
	
	\begin{defn}[Functors]
		
	\end{defn}
	
	\begin{defn}[Full functors, faithful functor]
		
	\end{defn}
	
	\begin{defn}[Natural transformations]
		
	\end{defn}
	
	\begin{defn}[Equivalent functors]
	\end{defn}
	
	\begin{defn}[Representable Functors]
		
	\end{defn}
	
	\begin{defn}[Whiskering]
		
	\end{defn}
	
	\begin{defn}[Horizontal and vertical composition of nat.transf.]
		
	\end{defn}
	
	\begin{defn}[adjunctions]
		
	\end{defn}
	
	\begin{lemma}[Yoneda]
		
	\end{lemma}
	\begin{proof}
		
	\end{proof}
	
	\chapter{Monads and algebras}
	
	\section{Introduction}
		
	Throughout mathematics we encounter structures defined by some action morphisms. Here we give some examples.
	
	\begin{exmp}
		Given a group $G$, we may consider a $G$-set $X$ described by an action map $G\times X\rightarrow X$.
	\end{exmp}
	\begin{exmp}
		Given an abelian group $M$ and a ring $R$, we can get an $R$-module $M$ by fixing a group homomorphism $R\otimes_{\Z} M\rightarrow M$.
	\end{exmp}
	\begin{exmp}
		Given a monoid $M$ in $\Set$, we get a map $\Pi_{k=1}^n M\rightarrow M$, $(m_1,\ldots,m_n)\mapsto ((\ldots ((m_1m_2)m_3)\ldots )m_{n-1}) m_n$. This induces an action map from $W(M)=\amalg_{n\in\N}\Pi_{k=1}^n M$, the set of words on $M$, to $M$.
	\end{exmp}
	\begin{exmp}\label{ultrafilters}
		Given a set $X$, let $\mathcal{U}X$ be the set of ultrafilters on it. Any compact T2 topology on $X$ allows us to see each ultrafilter as a system of neighborhoods of a unique point in $X$, hence it gives us a unique map $\mathcal{U}X\rightarrow X$ sending each ultrafilter to the respective point.
	\end{exmp}
	\begin{exmp}
		Given a directed graph $D=(V,E,\hspace{-1.5mm}\begin{tikzcd}
		E\hspace{-1.5mm}\arrow[r, "t" description,  shift right=.5ex, shorten <= .3em, shorten >= .3em]  \arrow[r, "s" description, shift left=1ex, shorten <= .3em, shorten >= .3em] & \hspace{-1.5mm}V
		\end{tikzcd}\hspace{-1.5mm})$, we can create its free category $FD$, where the objects are the vertices and $FD(v,w)=\{\text{finite paths } v\rightarrow\ldots\rightarrow w\}$. We set $\id_v$ to be the path of length 0, while composition is just the concatenation of paths.
		
		In particular, if $D$ is the directed graph with $V=\{0,\ldots,n\}$ and an edge $j\rightarrow k$ if and only if $k=j+1$, we have $FD\cong [n]$.
		
		If $D=\{*\}$ and $E=\{*\rightarrow *\}$, then $FD(*,*)\cong\N$.
		
		Given a small category $\C$, we may consider the underlying graph $U\C=D$ with $V=\Ob(\C)$, $E=\Ar(\C)$, $s=\dom$ and $t=\cod$. We get then an action map $UFU\C\rightarrow U\C$ sending a finite path to its composite. This map is a morphism of directed graphs.
	\end{exmp}

	Notice that we always have a category $\C$ and some functor $T\colon\C\rightarrow\C$ with an action map $T\C\rightarrow\C$. How can we see all of these examples as specific instances of a general phenomenon?
	
	\begin{defn}
		A monad on a category $\C$ is a triple $(T,\mu,\eta)$ where $T\colon\C\rightarrow\C$ is a functor, while $\mu\colon T^2\Rightarrow T$ and $\eta\colon\id_{\C}\Rightarrow T$ are natural transformations such that the following diagrams commute:
		
		\[
			\begin{tikzcd}
				T^3\ar["\mu T", Rightarrow]{d}\ar["T\mu", Rightarrow]{r}
				& T^2\ar["\mu", Rightarrow]{d} \\
				T^2\ar["\mu", Rightarrow]{r}
				& T
			\end{tikzcd}
			\quad\quad
			\begin{tikzcd}
				T\ar["\eta T", Rightarrow]{r}\ar["\id_{T}", Rightarrow, swap]{dr}
				& T^2\ar["\mu", Rightarrow]{d}\ar["T\eta", Leftarrow]{r}
				& T\ar["\id_{T}", Rightarrow]{dl} \\
				& T
			\end{tikzcd}
		\]
		
		$\mu$ is called the multiplicative map, while $\eta$ is the unit of $T$.
		
		The commutativity of the first diagram is equivalent to stating that the following two diagrams are equal:
		
		\begin{minipage}{0.3\linewidth}
			\begin{tikzcd}[row sep=1cm, column sep=1cm]
				&\C\ar[d, Rightarrow, shorten <= 1em, shorten >= 1em, "\mu"]\ar[r, "T"]\ar[drr, bend right=26, "T"description]
				&\C\ar[dr, "T"]\ar[d, Rightarrow, yshift=1ex, shorten <= 1em, shorten >= 1em, "\mu"]\\
				\C
				\ar[rrr, "T"'] 
				\ar[ur, , "T"]
				&\phantom{.} &\phantom{.}&\C
			\end{tikzcd}
		\end{minipage}
		\hspace{1.5cm}
		=
		\begin{minipage}{0.3\linewidth}
			\begin{tikzcd}[row sep=1cm, column sep=1cm]
				&\C\ar[d, Rightarrow, yshift=1ex, shorten <= 1em, shorten >= 1em, "\mu"]\ar[r, "T"]
				&\C\ar[d, Rightarrow, shorten <= 1em, shorten >= 1em, "\mu"]\ar[dr, "T"]\\
				\C\ar[urr, bend right=26, "T"'description]
				\ar[rrr, "T"'] 
				\ar[ur, , "T"]
				&\phantom{.} &\phantom{.}&\C
			\end{tikzcd}
		\end{minipage}
	\end{defn}

On the other hand, the second diagram can be rephrased as follows:
\begin{center}
	
	\begin{minipage}{0.3\linewidth}
		\begin{tikzcd}[row sep=1cm, column sep=1cm]
		& \C \arrow[d, Rightarrow, shift left=.5ex, shorten <= 1em, shorten >= 1em, "\mu"]\arrow[d, Rightarrow, shift right=5.8ex, shorten <= 1em, shorten >= 1em, "\eta"]\arrow[rd, "T"] &   \\
		\C \arrow[rr, "T"', ""{name=A}] \arrow[ru, bend right, "T"'description, ""{name=T}] \arrow[ru, bend left, "\id_{\C}", ""{name=U}] &    \phantom{.}          & \C
		%\arrow[Rightarrow, from=U, to=D]
		\end{tikzcd}
		
	\end{minipage}
	=
	\hspace{.2cm}
	\begin{minipage}{0.3\linewidth}
		\begin{tikzcd}[row sep=1cm, column sep=1cm]
		\C \arrow[d, bend right, "T"'] \arrow[d, bend left, "T"] \\
		\C                                           
		\end{tikzcd}
	\end{minipage}
	\hspace{-3.5cm}
	=
	\hspace{5mm}
	=
	\begin{minipage}{0.3\linewidth}
		\begin{tikzcd}[row sep=1cm, column sep=1cm]
		& \C \arrow[d, Rightarrow, shift right=1.2ex, shorten <= 1em, shorten >= 1em, "\mu"]\arrow[d, Rightarrow, shift left=5.8ex, shorten <= 1em, shorten >= 1em, "\eta"] \arrow[rd, bend right, "T"'description, ""{name=T}] \arrow[rd, bend left, "\id_{\C}", ""{name=U}] &   \\
		\C \arrow[rr, "T"', ""{name=A}] \arrow[ru, "T", ""{name=B}] &\phantom{.}   & \C		\end{tikzcd}
	\end{minipage}
\end{center}

	A monad naturally defines other algebraic structures, which we now introduce.
	
	\begin{defn}
		Given a monad $(T,\mu,\eta)$, a $T$-algebra or $T$-module is a pair $(a,\alpha)$, where $a\in\Ob(\C)$ and $\alpha\colon Ta\rightarrow a$ is such that the following diagrams commute:
		
		\[	
			\begin{tikzcd}
				T^2 a\ar["\mu_{a}"]{d}\ar["T\alpha"]{r}
				& Ta\ar["\alpha"]{d} \\
				Ta\ar["\alpha"]{r}
				& a
			\end{tikzcd}
			\quad\quad
			\begin{tikzcd}
				a\ar["\id_{a}", swap]{dr}\ar["\eta_{a}"]{r}
				& Ta\ar["\alpha"]{d} \\
				& a
			\end{tikzcd}
		\]
	\end{defn}

	\begin{defn}
		A morphism of $T$-algebras $(a,\alpha)\rightarrow (b,\beta)$ is a morphism $f\colon a\rightarrow b$ such that the following diagram commutes:
		\[
			\begin{tikzcd}
				Ta\arrow["\alpha"]{d}\arrow["Tf"]{r}
				& Tb\arrow["\beta"]{d} \\
				a\arrow["f"]{r}
				& b
			\end{tikzcd}
		\]
	\end{defn}

		
	$T$-algebras form a category $T\mbox{-}\Alg$, which has a natural forgetful functor $U^T\colon T\mbox{-}\Alg\rightarrow\C$.
	
	We now show how to recover the examples previously given with this language.
	
	\begin{exmp}
		\begin{align*}
			T=G\times - \colon&\ \Set \rightarrow\Set \\
			\mu_A\colon&\ G\times (G\times A) \rightarrow G\times A \\
			&\ (g,(h,a)) \mapsto (gh,a) \\
			\eta_A\colon&\ A \rightarrow G\times A \\
			&\ a \mapsto (e,a)
		\end{align*}
		is a monad and $(A,\alpha)$ is a $T$-algebra if and only if $A$ is a $G$-set. It follows that $T\mbox{-}\Alg\cong G\mbox{-}\Set$.
	\end{exmp}

	\begin{exmp}
		Given a ring $R$, $T=R\otimes_{\Z}-\colon \Ab\rightarrow \Ab$ is a monad when considered with the following natural transformations:
		
		\begin{align*}
			\mu_{-}\colon &\ R\otimes_{\Z}(R\otimes_{\Z}-)\cong (R\otimes_{\Z})\otimes_{\Z}-\Rightarrow R\otimes_{\Z}- \\
			\eta_-\colon &\ -\cong\Z\otimes_{\Z}-\Rightarrow R\otimes_{\Z}-
		\end{align*}
	
		We have that $(R\otimes_{\Z}-)\mbox{-}\Alg\cong \RMod$.
	\end{exmp}

	\begin{exmp}
		Consider $W\colon\Set\rightarrow\Set$ given by $WX=\amalg_{n\in\N}\Pi_{k=1}^n X$. Multiplication $\mu_X\colon WWX\rightarrow WX$ is given by concatenation of words, while the unit $\eta_X\colon X\rightarrow WX$ is just $x\mapsto (x)$. With this, $W\mbox{-}\Alg\cong \text{Mon}(\Set)$.
	\end{exmp}

	\begin{exmp}
		The functor $\mathcal{U}$ defined in Example \ref{ultrafilters}, equipped with suitable natural transformations, is a monad on $\Set$ and $\mathcal{U}\mbox{-}\Alg\cong \CHTop$, the category of compact T2 spaces.
	\end{exmp}

	\begin{exmp}
		The free-forgetful adjunction $F\dashv U$ between categories and directed graphs induces a monad on the latter, with $UF\mbox{-}\Alg\cong\Cat$.
	\end{exmp}

	\section{Monadic functors}
	
	Now that we have introduced these structures, our aim is to characterize \emph{monadic functors}, that is functors $U\colon\A\rightarrow\C$ which are equivalent to $U^T\colon T\mbox{-}\Alg\rightarrow\C$ for some monad $(T,\mu,\eta)$ on $\C$.

	First of all, notice that $U^T$ is faithful by construction, hence $U$ must be faithful, but more is true.
	
	\begin{lemma}
		The functor $U^T$ is conservative, that is if $U^Tf$ is an isomorphism then $f$ is an isomorphism of $T$-algebras.
	\end{lemma}
	\begin{proof}
		Suppose that $g$ is the inverse of $f\colon a\rightarrow b$ and $f$ is a morphism $(a,\alpha)\rightarrow (b,\beta)$. We only need to prove that the square on the left commutes, that is $g\beta=\alpha Tg$:
		\[
			\begin{tikzcd}
				Tb\arrow["\beta"]{d}\arrow["Tg"]{r}
				& Ta\arrow["\alpha"]{d}\arrow["Tf"]{r}
				& Tb\arrow["\beta"]{d} \\
				b\arrow["g"]{r}
				& a\arrow["f"]{r}
				& b
			\end{tikzcd}
		\]
		
	We see that $fg\beta=\beta$ and $f\alpha Tg=\beta Tf Tg=\beta T(fg)=\beta T\id_b=\beta$, hence the thesis.
	\end{proof}
    \begin{rmk}
     Notice that the forgetful functor $U\colon\Top\to\Set$ can't be monadic since it does not reflect isomorphisms. However, if we restrict it to the full subcategory of $\Top$ spanned by compact Hausdorff spaces we indeed obtain a monadic functor.
    \end{rmk}
	\begin{prop}
		The functor $U^T\colon T\mbox{-}\Alg\rightarrow\C$ has a left adjoint $F^T\colon\C\rightarrow T\mbox{-}\Alg$ such that $F^Tc=(Tc,\mu_{c})$, $F^Tf\colon(Tc,\mu_{c})\xrightarrow{Tf} (Td,\mu_{d})$ and $U^TF^T=T$. Furthermore, the unit of this adjunction is given by $\gamma_c=\eta_c\colon c\to U^TF^Tc=Tc$ and the counit has components $\epsilon_{(a,\alpha)}=\alpha\colon(Ta,\mu_a)\to(a,\alpha)$.
	\end{prop}
\begin{proof}
	\begin{enumerate}[label=(\roman*)]
		\item To show that $(Tc, \mu_c)$ is a $T$-algebra we need the following diagrams to be commutative.
		\[
		\begin{tikzcd}
		T^3c\ar["\mu_{Tc}"', rightarrow]{d}\ar["T\mu_c", rightarrow]{r}
		& T^2c\ar["\mu_c", rightarrow]{d} \\
		T^2c\ar["\mu_c"', rightarrow]{r}
		& Tc
		\end{tikzcd}
		\quad\quad
		\begin{tikzcd}
		Tc\ar["\eta_{Tc}",rightarrow]{r}\ar[equal]{dr}
		& T^2c\ar["\mu_c", rightarrow]{d}
		\\
		& Tc
		\end{tikzcd}
		\]
		These are exactly the associativity and one of the unit laws for $(T, \mu, \eta)$.
	\item For every $f\colon c\to c'$, $Tf$ is a morphism of algebras $(Tc,\mu_c)\to(Tc', \mu_{c'})$. The diagram 
		\[
	\begin{tikzcd}
	T^2c\ar["\mu_{c}"', rightarrow]{d}\ar["T^2f", rightarrow]{r}
	& T^2c'\ar["\mu_{c'}", rightarrow]{d} \\
	Tc\ar["Tf"', rightarrow]{r}
	& Tc'
	\end{tikzcd}
		\]
	is commutative because of the naturality of $\mu$. Hence $F^T$ is defined on morphisms. It is a functor by the functoriality of $T$.
	\item The unit is natural by assumption. We claim that $\epsilon_{(a,\alpha)}=\alpha$ is a morphism of algebras $$F^TU^T(a,\alpha)=F^Ta=(Ta,\mu_a) \to \id_{T\mbox{-}\Alg}(a,\alpha)=(a,\alpha)$$ and $\epsilon$ is a natural transformation $F^TU^T\Rightarrow\id_{T\mbox{-}\Alg}$. Let's check it. We know that $\alpha$ is a morphism of algebras if and only if 
	\[	
	\begin{tikzcd}
	T^2 a\ar["\mu_{a}"']{d}\ar["T\alpha"]{r}
	& Ta\ar["\alpha"]{d} \\
	Ta\ar["\alpha"']{r}
	& a
	\end{tikzcd}
	\]
	is commutative. But this is one of the two $T$-algebra axioms! Moreover, to prove that $\epsilon$ is natural, we need to show that
		\[	
	\begin{tikzcd}
	(Ta,\mu_a) \ar["Tf"']{d}\ar["\alpha=\epsilon_{(a,\alpha)}"]{r}
	& (a,\alpha)\ar["f"]{d} \\
	(Tb,\mu_b)\ar["\beta=\epsilon_{(b,\beta)}"']{r}
	& (b,\beta)
	\end{tikzcd}
	\]
	is commutative, but this is the axiom for $f$ to be a morphism of $T$-algebras! 
	\item It remains to check the two triangular identities $\epsilon F^T \circ F^T\eta=\id_{F^T}$ and $U^T\epsilon\circ\eta U^T=\id_{U^T}$. These are to be checked on the components at $c$ and $(a, \alpha)$, respectively.
	\[
		\begin{tikzcd}
	(Tc,\mu_c)\ar["T\eta_{c}",rightarrow]{r}\ar[equal]{dr}
	& (T^2c,\mu_{Tc})\ar["\mu_{Tc}", rightarrow]{d}
	\\
	& (Tc,\mu_c)
	\end{tikzcd}	\quad\quad
	\begin{tikzcd}
	a\ar["\eta_a",rightarrow]{r}\ar[equal]{dr}
	& Ta\ar["\alpha", rightarrow]{d}
	\\
	& a
	\end{tikzcd}
	\]
	The commutativity of these two diagrams is ensured by the second unit law for a monad and the unit law for the $T$-algebra $(a,\alpha)$, respectively.
	\end{enumerate}
\end{proof}
\begin{defn}
Algebras of the form $(Tc, \mu_c)$ are called free $T$-algebras.	
\end{defn}
Thanks to the proposition above we can prove that, given a monad $T$ we can always find an adjunction that generates it. Actually, the converse holds too.
\begin{prop}
If $U\colon\D\to\C$ has a left adjoint $F$ with unit $\eta$ and counit $\epsilon$, then $(UF,U\epsilon F,\eta)$ is a monad on $\C$. Also, if $(T,\mu,\eta)$ is a monad on $\C$, then $(U^TF^T,U^T\epsilon F^T,\eta)=(T,\mu,\eta)$. 
\end{prop}
\begin{proof}
Let us check the axioms. First of all, the associativity holds due to the following equations.
\flushleft
	\begin{tikzcd}[row sep=.55cm, column sep=.55cm]
		&&\C\arrow[rd, "F"]\ar[d, Rightarrow, shorten <= .5em, shorten >= .5em, "\epsilon"']&&&&&&\C\arrow[rd, "F"]\ar[d, Rightarrow, shorten <= .5em, shorten >= .5em, "\epsilon"'] &&\\
		\C\arrow[r, "F"]&\D\arrow[ru, "U"] \arrow[rr, equal] &\phantom{.}& \D \arrow[r, "U"] & \C \arrow[r, "F"] & \D \arrow[r, "U"] & \C  \arrow[r, "F"] &\D\arrow[ru, "U"] \arrow[rr, equal] &\phantom{.}& \D \arrow[r, "U"] & \C
		\end{tikzcd}
			\begin{center}
				=				
			\end{center}
			\begin{center}
			\begin{tikzcd}
		&&\C\arrow[rd, "F"]\ar[d, Rightarrow, shorten <= .5em, shorten >= .5em, "\epsilon"']&&\C\arrow[rd, "F"]\ar[d, Rightarrow, shorten <= .5em, shorten >= .5em, "\epsilon"']\\
		\C\arrow[r, "F"]&\D\arrow[ru, "U"] \arrow[rr, equal] &\phantom{.}& \D\arrow[ru, "U"] \arrow[rr, equal] &\phantom{.}& \D\arrow[r, "U"]&\C
		\end{tikzcd}	
	\end{center}
\begin{center}
	=
		\begin{tikzcd}[row sep=.55cm, column sep=.55cm]
		&            &            &                                    &\C  \arrow[rd, "F"]\ar[d, Rightarrow, shorten <= .5em, shorten >= .5em, "\epsilon"'] &            &            &                                    &  \C\arrow[rd, "F"]\ar[d, Rightarrow, shorten <= .5em, shorten >= .5em, "\epsilon"'] &            &  \\
		\C\arrow[r, "F"] & \D \arrow[r, "U"] & \C  \arrow[r, "F"] &  \D\arrow[ru, "U"] \arrow[rr, equal] &  \phantom{.}           &\D  \arrow[r, "U"] &\C  \arrow[r, "F"] & \D \arrow[ru, "U"] \arrow[rr, equal] &\phantom{.}             &\D  \arrow[r, "U"] & \C
		\end{tikzcd}
\end{center}
Unit laws:
\[
\begin{tikzcd}
&         \arrow[d, Rightarrow, yshift=1ex, shorten <= .5em, shorten >= .01em, "\eta"']    &\C \arrow[d, Rightarrow, shorten <= .5em, shorten >= .5em, "\epsilon"']  \arrow[rd, "F"] &            &  \\
\C\arrow[r, "F"] \arrow[rru, bend left, equal] &\D  \arrow[ru, "U"] \arrow[rr, equal] &  \phantom{.}           &\D  \arrow[r, "U"] & \C
\end{tikzcd}
\]
is equal to $1_{UF}$, since $\epsilon F\circ F\eta=1_F$ by one of the triangular identities of the adjunction $F\dashv U$. Furthermore,
\[
\begin{tikzcd}
&            &\C \arrow[d, Rightarrow, shorten <= .5em, shorten >= .5em, "\epsilon"']  \arrow[rd, "F"]\arrow[rrd, bend left, equal] &  \arrow[d, Rightarrow, yshift=1ex, shorten <= .5em, shorten >= .01em, "\eta"']           &  \\
\C\arrow[r, "F"]  &\D  \arrow[ru, "U"] \arrow[rr, equal] &  \phantom{.}           &\D  \arrow[r, "U"] & \C
\end{tikzcd}
\] 
is equal to $1_{UF}$. This follows from the explicit description of the unit and the counit of the adjunction $F^T\dashv U^T$, in fact 
$$U^T\epsilon F^Tc=U^T\epsilon_{(Tc, \eta_c)}=\mu_c$$ \qedhere
\end{proof}

\begin{exmp}[Interesting adjunction, boring monad] Let us consider the adjunction $U\colon\mathbf{Top}\rightleftarrows\Set\colon\mathsf{Disc}\eqqcolon F$, whose left adjoint assigns to every set $X$ the discrete topological space $FX=(X, 2^X)$.
It's immediate to see that $UFX=X$, hence $UF=\id_\Set$. How many natural transformations $\id_\Set=UF\xRightarrow{\alpha} UF=\id_\Set$ are there?
We know that $\id_\Set\cong\Hom(*,-)$, so $\text{Nat}(\id_\Set, \id_\Set)\cong\text{Nat}(\Hom(*,-),\Hom(*,-))\cong\Hom(*,*)=\{\id_*\}$ by Yoneda, hence $\alpha=\id$. Therefore $(UF,U\epsilon F, \eta)=(\id_\Set, \id, \id)$
\end{exmp}
\begin{exmp}
If $S$ is a set, $\Set(S,-)\colon\Set\to\Set$ is right adjoint to $S\times-\colon\Set\to\Set$, so we get a monad $X\mapsto\Set(S,S\times X)$. This is called \emph{the state monad} and is important in Computer Science.
\end{exmp}
There is always a comparison morphism $\D\xrightarrow{\overline{U}}UF\mbox{-}\Alg$	s.t. 
\[
\begin{tikzcd}
\D\ar["\overline{U}"]{rr}\ar["U"']{dr}
&& UF\mbox{-}\Alg\ar["U^{UF}", rightarrow]{dl}
\\
& \C
\end{tikzcd}
\]
commutes. We set $\overline{U}f=(Ud,UFUd\xrightarrow{U\epsilon_d}Ud)=(Ud, U\epsilon_d)$. More specifically, for a given functor $\D\xrightarrow{G}\C$ we can ask what do we need to get an equivalence $\overline{G}\colon\D\to T\mbox{-}\Alg$. To get there, we will need a few more definitions and lemmas.


\section{The category of $T$-actions}

Just like a monad $(T,\mu,\eta)$ defines a category $T\mbox{-}\Alg$, it also allows us to construct another category from functors $\D\rightarrow\C$.

\begin{defn}
	Given a monad $(T,\mu,\eta)$ and fixed a category $\D$, a $T$-action on a functor $\D\xrightarrow{G}\C$ is a natural transformation $TG\xRightarrow{\gamma}G$ such that the diagrams
	\[
		\begin{tikzcd}
			T^2G\ar["\mu G"', Rightarrow]{d}\ar["T\gamma", 	Rightarrow]{r}
			& TG\ar["\gamma", Rightarrow]{d} \\
			TG\ar["\gamma"', Rightarrow]{r}
			& G
		\end{tikzcd}
		\quad\quad
		\begin{tikzcd}
			G\ar["\eta G", Rightarrow]{r}\ar[equal]{dr}
			& TG\ar["\gamma", Rightarrow]{d}\\
			& G
		\end{tikzcd}
	\]
		commute.
	
		A morphism of $T$-actions $(G,\gamma)\Rightarrow (K,\kappa)$ is a natural transformation $\varphi\colon G\Rightarrow K$ such that
\[
\begin{tikzcd}
	TG\ar["T\varphi", Rightarrow]{r}\ar["\gamma"', Rightarrow]{d}
		& TK\ar["\kappa", Rightarrow]{d}\\
		G\ar[r, Rightarrow, "\varphi"']& K 
		\end{tikzcd}
		\]
		commutes.
	\end{defn}

	Up to size, $T$-actions and their morphisms assemble into a category $T\mbox{-}\mathsf{Act}(\D)$.

\begin{exmp}
	The functor $U^T\colon T\mbox{-}\Alg\rightarrow\C$ has a $T$-action given by $(U^T,\alpha\colon TU^T\Rightarrow U^T)$, where $\alpha_{(b,\beta)}\coloneqq\beta\colon Tb\rightarrow b$.
\end{exmp}

\begin{exmp}
	Given an adjunction  $F\dashv U\colon\C\rightarrow\D$ with unit $\eta\colon\id_{\C}\Rightarrow UF$ and counit $\epsilon\colon FU\Rightarrow\id_{\D}$, we get a monad on $(UF,U\epsilon F,\eta)$ on $\C$. We have then a $UF$-action $U\epsilon\colon UFU\Rightarrow U$, where the axioms follow from the triangular identities.
\end{exmp}

\begin{prop}
	$(U^T,\alpha)$ is the universal $T$-action, that is for any category $\D$ the functor $\Cat(\D,T\mbox{-}\Alg)\rightarrow T\mbox{-}\mathsf{Act}(\D)$ sending $G$ to $(U^TG,\alpha G)$ and $\beta\colon G\Rightarrow H$ to $U^T\beta\colon(U^TG,\alpha G)\Rightarrow (U^TH,\alpha H)$ is an isomorphism of categories.
\end{prop}

\begin{proof}
	In other words, for every $T$-action $(G,\gamma)$ there exists a unique lift $\overline{G}\colon\D\rightarrow T\mbox{-}\Alg$ such that $(U^T\overline{G},\alpha\overline{G})=(G,\gamma)$ and for every $\phi\colon(G,\gamma)\Rightarrow (K,\kappa)$ there is a unique $\overline{\phi}\colon\overline{G}\Rightarrow\overline{K}$ with $U^T\overline{\phi}=\phi$.
	
	It is enough to set $\overline{G}d\coloneqq(Gd,\gamma_d)$ on objects, $\overline{G}f\coloneqq Gf$ on morphisms, $\overline{\phi}_d\coloneqq\phi_d$ and check the axioms.
	
	\[
		\begin{tikzcd}
			D\ar[r, dotted, "\exists!\overline{G}"]\ar[dr, swap, "G"]
			& T\mbox{-}\Alg\ar[d, "U^T"] \\
			& \C
		\end{tikzcd}    
	\]			\qedhere
\end{proof}

Following the construction in this proof, from the last example we get the comparison functor for the adjunction $F\dashv U$. In particular, $\overline{U}d=(Ud,U\epsilon_d)$. Furthermore, this means that $U\colon\Top\rightarrow\Set$ factors through identities.


\section{Limits and colimits in the category of algebras}

We have shown that the forgetful functor $U^T\colon T\mbox{-}\Alg\rightarrow\C$ is a right adjoint, hence as such it preserves limits. However, more is true.

\begin{prop}\label{create lims}
	For any monad $(T,\mu,\eta)$ on $\C$, the forgetful functor $U^T\colon T\mbox{-}\Alg\rightarrow\C$ creates limits.
\end{prop}

\begin{proof}
	This statement means that, for any diagram $D\colon I\rightarrow T\mbox{-}\Alg$ such that $U^TD\colon I\rightarrow\C$ has a limit $(l,\kappa_i)$ in $\C$, there is a unique $T$-algebra structure $\lambda\colon Tl\rightarrow l$ such that $\kappa_i$ is a morphism of $T$-algebras for all $i\in I$ and this makes $((l,\lambda),\kappa_i)$ into a limit of $D$.
	
	Now we begin the proof.
	
	First of all, remember that $D\phi\colon D_i\rightarrow D_j$ is a morphism of $T$-algebras for all $\phi\colon i\rightarrow j$ by assumption, hence the morphisms $\delta_i T\kappa_i\colon Tl\rightarrow D_i$ define a cone over $D$, where $\delta_i$ is the $T$-algebra structure on $D_i$. By the universal property of the limit, there is a unique morphism $\lambda\colon Tl\rightarrow l$ making the following diagram commute for all $i$.
	\[
		\begin{tikzcd}
			Tl\ar[d, "T\kappa_i"']\ar[r, dotted, "\lambda"]
			& l\ar[d, "\kappa_i"] \\
			TD_i\ar[r, "\delta_i"']
			& D_i
		\end{tikzcd}
	\]	
	This tells us that, if the limit $((l,\lambda),\kappa_i)$ of $D$ exists, it is unique. We have to check that $(l,\lambda)$ is a $T$-algebra.
	
	Notice that for all $i$ all of the faces of the following diagrams, except for possibly the top ones, commute:
	
	\[
		\begin{tikzcd}
			& Tl\ar[drr, "\lambda"]\ar[ddd, "T\kappa_i" near start] \\
			T^2l\ar[ur, "T\lambda"]\ar[drr, crossing over, "\mu_l" near start, swap]\ar[ddd, "T^2\kappa_i"]
			&&& l\ar[ddd, "\kappa_i"] \\
			&& Tl\ar[ur, "\lambda"]%\ar[ddd, "T\kappa_i" near start] 
			\\
			& TD_i\ar[drr, swap, "\delta_i" near start] \\
			T^2D_i\ar[ur, "T\delta_i"]\ar[drr, "\mu_{D_i}"]
			&&& D_i \\
			&& TD_i\ar[ur, "\delta_i"] \ar[from=uuu,crossing over,  "T\kappa_i" near start]
		\end{tikzcd}
		\quad\quad
		\begin{tikzcd}
			& Tl\ar[dr, "\lambda"]\ar[dd, "T\kappa_i" near end] \\
			l\ar[ur, "\eta_l"]\ar[rr, crossing over, equal]\ar[dd, swap, "\kappa_i"]
			&& l\ar[dd, "\kappa_i"] \\
			& TD_i\ar[dr, "\kappa_i"] \\
			D_i\ar[ur, "\eta_{D_i}"]\ar[rr, equal]
			&& D_i
		\end{tikzcd}
	\]
	
	Since the $\kappa_i$ are jointly monic, the upper face commutes and therefore $(l,\lambda)$ is a $T$-algebra. It remains to check that $((l,\lambda),\kappa_i)$ factors every other cone over $D$.
	
	Let $\gamma_i\colon(x,\zeta)\rightarrow (D_i,\delta_i)$ be a cone over $D$. Then, there is a unique $f\colon x\rightarrow l$ in $\C$ such that $\kappa_if=\gamma_i$. We only have to show that $f$ is a morphism of $T$-algebras $(x,\zeta)\rightarrow (l,\lambda)$.
	
	Consider the following diagram and notice that the outer square, the one on the right and the two triangles commute, hence the square on the left commutes as well since the $\kappa_i$ are jointly monic.
	
	\[
		\begin{tikzcd}
			Tx\ar[rr, bend left, "T\gamma_i"]\ar[r, swap, "Tf"]\ar[d, "\zeta"]
			& Tl\ar[r, swap, "T\kappa_i"]\ar[d, "\lambda"]
			& TD_i\ar[d, "\delta_i"] \\
			x\ar[r, "f"]\ar[rr, bend right, swap, "\gamma_i"]
			& l\ar[r, "\kappa_i"]
			& D_i
		\end{tikzcd}
	\]
\end{proof}

A similar statement holds for colimits.

\begin{prop}\label{create colims}
	Given a monad $(T,\mu,\eta)$ on $\C$, the forgetful functor $U^T\colon T\mbox{-}\Alg\rightarrow\C$ creates any colimit preserved by both $T$ and $T^2$.
\end{prop}

\begin{proof}
	Similarly to the dual situation, this means that for any diagram $D\colon I\rightarrow T\mbox{-}\Alg$ such that $U^TD\colon I\rightarrow\C$ has a colimit $(c,\kappa_i)$ preserved by both $T$ and $T^2$, there is a unique $T$-algebra structure $\lambda\colon Tc\rightarrow c$ such that $\kappa_i$ is a morphism of $T$-algebras for all $i\in I$. This makes $((c,\lambda),\kappa_i)$ into a colimit of $D$.
	
	The proof is essentially dual to the one given earlier, in the sense that we find again a unique $\lambda\colon Tc\rightarrow c$ using the universal property of the colimit $(Tc,T\kappa_i)$ of $TD$.
	\[
		\begin{tikzcd}
			TD_i\ar[r, "T\kappa_i"]\ar[d, "\delta_i"']
			& Tc\ar[d, dotted, "\lambda"] \\
			D_i\ar[r, "\kappa_i"']
			& c
		\end{tikzcd}
	\]
	To check that $(c,\lambda)$ is an algebra we use the universal property of $(T^2c,T^2\kappa_i)$ (for $\mu$) and the one of $(c,\kappa_i)$ (for $\eta$).
\end{proof}

\begin{exmp}
	If $T$ is a monad on a complete category $\C$, then $T\mbox{-}\Alg$ is complete. If $\C$ is cocomplete and $T$ is cocontinuous, then $T\mbox{-}\Alg$ is cocomplete.
\end{exmp}
In particular, let $\C$ be a small category. There is a cocontinuous monad on the category of $\Ob(\C)$-indexed collections of sets whose category of algebras is the functor category $[\C,\Set]$. The underlying endofunctor of this monad is defined as 
	\begin{align*}
	T\colon[\Ob(\C),\Set]&\to[\Ob(\C),\Set] \\
	(X_c)_{c\in\C}&\mapsto \left(\coprod_{d\in\C}\C(d,c)\times X_d\right)_{c\in\C}
	\end{align*}
 Since $[\Ob(\C),\Set]$ is complete and cocomplete, so is $[\C,\Set]$ (with limits and colimits computed pointwise).
 
	\chapter{Beck’s monadicity theorem}
	The final ingredient we need is the observation that $T$-algebras admit canonical presentations using free algebras.
	
\begin{exmp}
	Pick an epi $F\twoheadrightarrow G$ in the category of groups $\mathbf{Grp}$, where $F$ is a free group. The kernel of this homomorphism defines a (normal) subgroup $K$ of $F$, giving rise to the sequence $K\rightarrowtail F\twoheadrightarrow G$. We can take another epi $F'\twoheadrightarrow K$, with $F'$ again a free group. Therefore $G$ is the cokernel of some morphism $F'\to F$. This argument applies to rings, algebras etc.
\end{exmp}

It is natural to ask if we can do this systematically for general $T$-algebras. Given $(a,\alpha)$ in $T\mbox{-}\Alg$, we have $F^TU^T(a,\alpha)\to(a,\alpha)$ i.e. $(Ta,\mu_a)\xrightarrow{\alpha}(a,\alpha)$. A candidate\footnote{Think about free groups: in that case we take words on $Ta$.} for $F'$ would be $F^TU^T(Ta, \mu_a)=(T^2a, \mu_{Ta})$. What are the ``elements'' of $Ta$?
Notice that 
\[
(T^2a,\mu_{Ta}) \doublerightarrow{T\alpha}{\mu_a}(Ta,\mu_a)\xrightarrow{\alpha}(a,\alpha)
\]
is a well defined diagram in $T\mbox{-}\Alg$, with $\alpha\mu_a=\alpha T\alpha$. Moreover, this is a coequalizer. We can use Proposition \ref{create colims} to prove it, so that we need to check whether $U^T$ sends the diagram above into a coequalizer preserved by $T$ and $T^2$. In $\C$, we get the diagram
\[
\begin{tikzcd}
T^2a\arrow[r, shift left, "T\alpha"] \arrow[r, shift right, "\mu_a"']
&Ta  \arrow[r, "\alpha"] \arrow[l, bend right=49, "\eta_{Ta}"'] & a \arrow[l, bend right=49, "\hspace*{-2mm}\eta_a"']
\end{tikzcd}
\]
in which the following equations hold true: $\alpha\eta_a=\id_a,\ \mu_a\eta_{Ta}=\id_{Ta}$ and $\eta_a\alpha=T\alpha\hspace{1mm}\eta_{Ta}$ by naturality. It is a particular case of a more general concept.
\begin{defn}
	A \emph{split coequalizer} is a diagram of the form
	\vspace*{-2.4mm}
	\[
	\begin{tikzcd}[ampersand replacement=\&]
	a\arrow[r, shift left, "f"] \arrow[r, shift right, "g"']
\& b \arrow[r, "h"] \arrow[l, bend left=49, "t"] \& c \arrow[l, bend left=49, "s"]
	\end{tikzcd}
	\]
	so that $hf=hg,\ hs=\id_c,\ gt=\id_b$, and $ft=sh$.
\end{defn}

\begin{prop}
In the above situation, 
\[
\begin{tikzcd}[ampersand replacement=\&]
a\arrow[r, shift left, "f"] \arrow[r, shift right, "g"']
\& b \arrow[r, "h"] \& c 
\end{tikzcd}
\] is a coequalizer. In particular, any functor preserves this coequalizer.
\end{prop}
\begin{proof}
Take $k\colon b\to d$ such that $kf=kg$ and define $\overline{k}\coloneqq ks$. Then we have
$$\overline{k}h=ksh=kft=kgt=k.$$
Uniqueness is clear since $h$ is a (split) epi. 
\end{proof}
$T$ and $T^2$ preserve split coequalizers, so they preserve our coequalizer.
\begin{cor}
Let $T$ be a monad on $\C$ and $(a,\alpha)$ a $T$-algebra. Then 
\[
(T^2a,\mu_{Ta}) \doublerightarrow{T\alpha}{\mu_a}(Ta,\mu_a)\xrightarrow{\alpha}(a,\alpha)
\]
is a coequalizer in $T\mbox{-}\Alg$, which $U^T\colon T\mbox{-}\Alg\to\C$ sends to a split coequalizer in $\C$.
\end{cor}
\begin{proof}
We have already observed that the second statement holds, so that coeq$(U^T(T\alpha), U^T(\mu_a))$ is preserved by $T$ and $T^2$. Hence there exists a unique lift of the (split) coequalizer in $\C$ to a coequalizer in $T\mbox{-}\Alg$. 
\end{proof}
Results like the previous one inspire us to look at the parallel pairs of morphisms in a category which are sent to split coequalizers or, to say it better, to a parallel pair of morphisms that can be extended to a split coequalizer diagram. Those kinds of pairs will be of crucial importance in the following.
\begin{defn}
Let $U\colon\D\to\C$ be a functor. A pair of morphisms $f,g\colon d\rightrightarrows d'$ in $\D$ is \emph{$U$-split} if $Uf,Ug\colon Ud\rightrightarrows Ud'$ is part of a split coequalizer in $\C$.
\end{defn} 
\begin{rmk}
$T\alpha,\mu_a\colon(T^2a,\mu_{Ta})\rightrightarrows(Ta,\mu_a)$ is a $U^T$-split pair. Moreover, $T\mbox{-}\Alg$ has coequalizers of $U^T$-split pairs and $U^T$ preserves them. Hence, functors equivalent to $U^T$ satisfy three conditions:
\begin{enumerate}
	\item they have a left adjoint;
	\item they are conservative;
	\item $U$-split pairs have coequalizers which are preserved by $U$.
\end{enumerate}
\end{rmk}

\begin{teo}[Beck]\label{Beck} Let $U\colon\D\to\C$ be a right adjoint to $F\colon\C\to\D$. Let $(T=UF, U\epsilon F, \eta)$ be the induced monad and $\overline{U}\colon\D\to T\mbox{-}\Alg$ be the comparison functor. 
	\begin{enumerate}
		\item If $\D$ has coequalizers of $U$-split pairs, then $\overline{U}$ has a left adjoint $\overline{F}\colon T\mbox{-}\Alg\to\D$;
		\item if, in addition, $U$ preserves coequalizers of $U$-split pairs, the unit $\overline{\eta}\colon\id\Rightarrow\overline{U}\hspace{.5mm} \overline{F}$ is an isomorphism;
		\item if $U$ is also conservative, then $\overline{U}$ is an equivalence of categories.
	\end{enumerate}
	\end{teo}
	\begin{proof}
	\begin{enumerate}
	\item For each free $T$-algebra $(Ta,\mu_a)$ we have
	\begin{align*}
	T\mbox{-}\Alg((Ta,\mu_a),\overline{U}-)&=T\mbox{-}\Alg(F^Ta,\overline{U}-)\\
	&\cong\C(a, U^T\overline{U}-)\\
	&=\C(a,U-)\\
	&\cong\D(Fa,-) 
	\end{align*} 
	therefore the value of $\overline{F}$ at $(Ta,\mu_a)$ has to be $Fa$. Since every $T$-algebra is a coequalizer of free algebras which is preserved by $U^T$, we may define $\overline{F}(a,\alpha)$ as the coequalizer of a pair of morphisms $FTa\rightrightarrows Fa$. We write this as $FUFU^T(a,\alpha)\rightrightarrows FU^T(a,\alpha)$. Consider the following pair of morphisms of functors $$FUFU^T\doublerightarrow{F\alpha}{\epsilon FU^T}FU^T$$ in the functor category $[T\mbox{-}\Alg, \D]$. We claim that this pair has a coequalizer and $\overline{F}\colon T\mbox{-}\Alg\to\D$ is left adjoint to $\overline{U}$. Note that the pair of morphisms just above becomes split after the composition with $U\colon\D\to\C$. In fact
	\[
	\begin{tikzcd}
	UFUFU^T\arrow[r, shift left, "UF\alpha"] \arrow[r, shift right, "U\epsilon FU^T"']
	&UFU^T  \arrow[r, "\alpha"] \arrow[l, bend left=49, "\eta UFU^T"] & U^T\arrow[l, bend left=49, "\hspace*{-2mm}\eta U^T"]
	\end{tikzcd}
	\]
	is a split coequalizer in $[T\mbox{-}\Alg, \C]$, given that it holds pointwise since $UF=T$. Let us denote by $\beta\colon FU^T\to\overline{F}$ the colimit (computed pointwise) of the pair $F\alpha, \epsilon FU^T\colon FUFU^T\rightrightarrows FU^T$. Precomposing this pair with $\overline{U}$ and recalling that $\alpha\overline{U}=U\epsilon, \ U^T\overline{U}=U$, we get the pair  
	$$FUFU\doublerightarrow{FU\epsilon}{\epsilon FU}FU$$
	\end{enumerate}
	\end{proof}
	\chapter{Monads in 2-category theory}
	\chapter{Monads in $\infty$-category theory}
	
	
	
	
	\backmatter
	% bibliography, glossary and index would go here.
	
\end{document}